(function(b){b.jqplot.eventListenerHooks.push(["jqplotMouseMove",c]);b.jqplot.Highlighter=function(e){this.show=true;this.markerRenderer=new b.jqplot.MarkerRenderer({shadow:false});this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=true;this.tooltipLocation="nw";this.fadeTooltip=true;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes="both";this.tooltipSeparator=", ";this.useAxesFormatters=true;this.tooltipFormatString="%.5P";this._tooltipElem;this.isHighlighting=false;b.extend(true,this,e)};b.jqplot.Highlighter.init=function(h,g,f){var e=f||{};this.plugins.highlighter=new b.jqplot.Highlighter(e.highlighter)};b.jqplot.Highlighter.parseOptions=function(f,e){this.showHighlight=true};b.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter.highlightCanvas=new b.jqplot.GenericCanvas();this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions));var f=this.plugins.highlighter.highlightCanvas.setContext();var e=this.plugins.highlighter;e._tooltipElem=b('<div id="jqplotHighlighterTooltip" class="jqplot-highlighter-tooltip" style="position:absolute;display:none"></div>');this.target.append(e._tooltipElem)};b.jqplot.preInitHooks.push(b.jqplot.Highlighter.init);b.jqplot.preParseSeriesOptionsHooks.push(b.jqplot.Highlighter.parseOptions);b.jqplot.postDrawHooks.push(b.jqplot.Highlighter.postPlotDraw);function a(j,l){var g=j.plugins.highlighter;var m=j.series[l.seriesIndex];var e=m.markerRenderer;var f=g.markerRenderer;f.style=e.style;f.lineWidth=e.lineWidth+g.lineWidthAdjust;f.size=e.size+g.sizeAdjust;var i=b.jqplot.getColorComponents(e.color);var k=[i[0],i[1],i[2]];var h=(i[3]>=0.6)?i[3]*0.6:i[3]*(2-i[3]);f.color="rgba("+k[0]+","+k[1]+","+k[2]+","+h+")";f.init();f.draw(m.gridData[l.pointIndex][0],m.gridData[l.pointIndex][1],g.highlightCanvas._ctx)}function d(l,h,r){var f=l.plugins.highlighter;var g=f._tooltipElem;if(f.useAxesFormatters){var q=h._xaxis._ticks[0].formatter;var j=h._yaxis._ticks[0].formatter;var m=h._xaxis._ticks[0].formatString;var k=h._yaxis._ticks[0].formatString;var n;if(f.tooltipAxes=="both"){n=q(m,r.data[0])+f.tooltipSeparator+j(k,r.data[1])}else{if(f.tooltipAxes=="x"){n=q(m,r.data[0])}else{if(f.tooltipAxes=="y"){n=j(k,r.data[1])}}}}else{var n;if(f.tooltipAxes=="both"){n=b.jqplot.sprintf(f.tooltipFormatString,r.data[0])+f.tooltipSeparator+b.jqplot.sprintf(f.tooltipFormatString,r.data[1])}else{if(f.tooltipAxes=="x"){n=b.jqplot.sprintf(f.tooltipFormatString,r.data[0])}else{if(f.tooltipAxes=="y"){n=b.jqplot.sprintf(f.tooltipFormatString,r.data[1])}}}}g.html(n);var i={x:r.gridData[0],y:r.gridData[1]};var e=0;var s=0.707;if(h.markerRenderer.show==true){e=(h.markerRenderer.size+f.sizeAdjust)/2}switch(f.tooltipLocation){case"nw":var p=i.x+l._gridPadding.left-g.outerWidth(true)-f.tooltipOffset-s*e;var o=i.y+l._gridPadding.top-f.tooltipOffset-g.outerHeight(true)-s*e;break;case"n":var p=i.x+l._gridPadding.left-g.outerWidth(true)/2;var o=i.y+l._gridPadding.top-f.tooltipOffset-g.outerHeight(true)-e;break;case"ne":var p=i.x+l._gridPadding.left+f.tooltipOffset+s*e;var o=i.y+l._gridPadding.top-f.tooltipOffset-g.outerHeight(true)-s*e;break;case"e":var p=i.x+l._gridPadding.left+f.tooltipOffset+e;var o=i.y+l._gridPadding.top-g.outerHeight(true)/2;break;case"se":var p=i.x+l._gridPadding.left+f.tooltipOffset+s*e;var o=i.y+l._gridPadding.top+f.tooltipOffset+s*e;break;case"s":var p=i.x+l._gridPadding.left-g.outerWidth(true)/2;var o=i.y+l._gridPadding.top+f.tooltipOffset+e;break;case"sw":var p=i.x+l._gridPadding.left-g.outerWidth(true)-f.tooltipOffset-s*e;var o=i.y+l._gridPadding.top+f.tooltipOffset+s*e;break;case"w":var p=i.x+l._gridPadding.left-g.outerWidth(true)-f.tooltipOffset-e;var o=i.y+l._gridPadding.top-g.outerHeight(true)/2;break;default:var p=i.x+l._gridPadding.left-g.outerWidth(true)-f.tooltipOffset-s*e;var o=i.y+l._gridPadding.top-f.tooltipOffset-g.outerHeight(true)-s*e;break}g.css("left",p);g.css("top",o);if(f.fadeTooltip){g.fadeIn(f.tooltipFadeSpeed)}else{g.show()}}function c(h,g,k,j,i){var e=i.plugins.highlighter;if(e.show){if(j==null&&e.isHighlighting){var f=e.highlightCanvas._ctx;f.clearRect(0,0,f.canvas.width,f.canvas.height);if(e.fadeTooltip){e._tooltipElem.fadeOut(e.tooltipFadeSpeed)}else{e._tooltipElem.hide()}e.isHighlighting=false}if(j!=null&&i.series[j.seriesIndex].showHighlight&&!e.isHighlighting){e.isHighlighting=true;a(i,j);if(e.showTooltip){d(i,i.series[j.seriesIndex],j)}}}}})(jQuery);